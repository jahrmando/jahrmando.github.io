<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nginx on Blog de Armando</title>
    <link>https://armanroot.com/tags/nginx/</link>
    <description>Recent content in Nginx on Blog de Armando</description>
    <generator>Hugo</generator>
    <language>es-mx</language>
    <copyright>© Armando Uch | Copyright All Rights Reserved</copyright>
    <lastBuildDate>Thu, 06 Sep 2018 10:54:38 -0500</lastBuildDate>
    <atom:link href="https://armanroot.com/tags/nginx/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Restringir acceso a una URL en NGINX</title>
      <link>https://armanroot.com/posts/2018/restringir-acceso-a-una-url-en-nginx/</link>
      <pubDate>Thu, 06 Sep 2018 10:54:38 -0500</pubDate>
      <guid>https://armanroot.com/posts/2018/restringir-acceso-a-una-url-en-nginx/</guid>
      <description>&lt;p&gt;Esta configuración nos permitirá el acceso a recursos en un directorio especifico del servidor, el acceso sera limitado a cierto rango de IPs o redes confiables y por ultimo tendrá una autenticación básica HTTP.&lt;/p&gt;&#xA;&lt;p&gt;La utilidad &lt;code&gt;htpasswd&lt;/code&gt; nos permite manejar los accesos de usuario para la autenticación básica por HTTP, esto en &lt;em&gt;CentOS&lt;/em&gt; se encuentra en el paquete &lt;strong&gt;httpd-tools&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Instalamos el paquete &lt;em&gt;httpd-tools&lt;/em&gt;.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ yum install httpd-tools&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Agregamos el usuario, usando la opción &lt;code&gt;-c&lt;/code&gt; para crear el archivo de base de datos y este se alojara en el directorio &lt;strong&gt;&lt;em&gt;/etc/nginx/htpasswd&lt;/em&gt;&lt;/strong&gt;, con la opción &lt;code&gt;-s&lt;/code&gt; habilitamos que la contraseña sea cifrada en &lt;em&gt;&lt;strong&gt;SHA&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Sitio Web en Mantenimiento con NGINX</title>
      <link>https://armanroot.com/posts/2015/sitio-web-en-mantenimiento-con-nginx/</link>
      <pubDate>Fri, 27 Mar 2015 10:00:00 -0500</pubDate>
      <guid>https://armanroot.com/posts/2015/sitio-web-en-mantenimiento-con-nginx/</guid>
      <description>&lt;p&gt;Crear un estado de &lt;em&gt;“Mantenimiento de sitio”&lt;/em&gt; es necesario para mantener informado a nuestros usuarios de lo que acontece con nuestro sitio y no verla completamente offline.&lt;/p&gt;&#xA;&lt;p&gt;La idea es poder intercambiar rápidamente a un &lt;em&gt;“estado de mantenimiento”&lt;/em&gt; de sitio controlado por una sentencia IF.&lt;/p&gt;&#xA;&lt;p&gt;Todas las configuraciones se hacen dentro de la directiva de configuración server.&lt;/p&gt;&#xA;&lt;p&gt;Definimos una variable llamada $maintenance que nos servirá para poder controlar el estatus de nuestro sitio.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Configurar NGINX y PHP-FPM en CentOS 7</title>
      <link>https://armanroot.com/posts/2015/configurar-nginx-y-php-fpm-en-centos-7/</link>
      <pubDate>Sat, 07 Feb 2015 10:54:38 -0500</pubDate>
      <guid>https://armanroot.com/posts/2015/configurar-nginx-y-php-fpm-en-centos-7/</guid>
      <description>&lt;p&gt;Este manual nos permitira configurar un servicio &lt;strong&gt;HTTP&lt;/strong&gt; usando &lt;em&gt;NGINX&lt;/em&gt; y con soporte &lt;strong&gt;PHP&lt;/strong&gt; usando &lt;em&gt;PHP-FPM&lt;/em&gt;.&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Las configuraciones presentadas funcionan bajo el esquema de seguridad &lt;strong&gt;SELINUX&lt;/strong&gt;.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;Instalemos el servicio &lt;em&gt;NGINX&lt;/em&gt; desde los reposotorios &lt;em&gt;EPEL&lt;/em&gt;.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sudo yum install nginx --enablerepo epel&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;Si no tiene el repositorio &lt;em&gt;EPEL&lt;/em&gt; configurado hagalo desde &lt;a href=&#34;http://www.cyberciti.biz/faq/installing-rhel-epel-repo-on-centos-redhat-7-x/&#34;&gt;aquí&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;Ahora vamos a habilitar el servicio en el inicio de sistema con el comando &lt;code&gt;enable&lt;/code&gt; y despues iniciamos el servicio (&lt;code&gt;start&lt;/code&gt;).&lt;/p&gt;</description>
    </item>
    <item>
      <title>Redireccionar el trafico HTTP hacia HTTPS con NGINX</title>
      <link>https://armanroot.com/posts/2014/redireccionar-el-trafico-http-hacia-https-con-nginx/</link>
      <pubDate>Mon, 24 Nov 2014 10:00:00 -0500</pubDate>
      <guid>https://armanroot.com/posts/2014/redireccionar-el-trafico-http-hacia-https-con-nginx/</guid>
      <description>&lt;p&gt;Cuando tengamos que mudar un sitio web completamente a protocolo seguro HTTPS necesitamos que toda petición que venga como HTTP y redirigir hacia el protocolo seguro.&lt;/p&gt;&#xA;&lt;p&gt;Creamos dos instancias server, una para el puerto 80 (http) y otra para el puerto 443 (https).&lt;/p&gt;&#xA;&lt;p&gt;Para la instancia server del puerto 443 pondremos toda la configuración del sitio y con los debidos ajustes que SSL requiere.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;server &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    listen &lt;span style=&#34;color:#ae81ff&#34;&gt;443&lt;/span&gt; ssl;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    server_name  example.com;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    server_tokens off;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Toda tu configuracion del sitio acontinuacion&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para la instancia server del puerto 80 pondremos los ajustes de redirección, en la linea de configuración que empieza con return especifica que cuando hay una petición este devolverá un estado 301 (Movido permanentemente) y lo va redirigir a la misma URI pero con el ajuste en el protocolo, en este caso el protocolo HTTPS.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Top 10 IPs mas visitados en Apache / Nginx</title>
      <link>https://armanroot.com/posts/2014/top-10-ips-mas-visitados-en-apache-/-nginx/</link>
      <pubDate>Sat, 16 Aug 2014 10:00:00 -0500</pubDate>
      <guid>https://armanroot.com/posts/2014/top-10-ips-mas-visitados-en-apache-/-nginx/</guid>
      <description>&lt;p&gt;Obtener las 10 IPs que mas visitan un sitio web a partir de los registros de acceso de Apache ó NGINX, ademas de listar el numero de accesos encontrados para cada IP.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cat site.access.log | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt; | sort | uniq -c | sort -nr | head -n &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;78320&lt;/span&gt; 187.xxx.xxx.74&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;75052&lt;/span&gt; 187.xxx.xxx.76&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;74229&lt;/span&gt; 187.xxx.xxx.206&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;72214&lt;/span&gt; 187.xxx.xxx.79&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;70507&lt;/span&gt; 192.168.xxx.200&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;68457&lt;/span&gt; 187.xxx.xxx.123&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;67956&lt;/span&gt; 187.xxx.xxx.207&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;66438&lt;/span&gt; 187.xxx.xxx.78&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;64883&lt;/span&gt; 187.xxx.xxx.201&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;64874&lt;/span&gt; 187.xxx.xxx.202&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Configurando DJANGO stack en CentOS6</title>
      <link>https://armanroot.com/posts/2013/configurando-django-stack-en-centos6/</link>
      <pubDate>Tue, 15 Oct 2013 10:00:00 -0500</pubDate>
      <guid>https://armanroot.com/posts/2013/configurando-django-stack-en-centos6/</guid>
      <description>&lt;p&gt;Configuración de Django en CentOS6.x con NGINX, GUNICORN, VIRTUALENV y SUPERVISOR&lt;/p&gt;&#xA;&lt;h2 id=&#34;preinstalacion&#34;&gt;preinstalacion&lt;/h2&gt;&#xA;&lt;p&gt;Instalamos los siguientes paquetes para compilaciones. Es de utilidad en algunos paquetes que instalemos dentro de PIP y los archivos de desarrollo de python.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ yum install gcc make python-devel&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;pip-virtualenv&#34;&gt;pip, virtualenv&lt;/h2&gt;&#xA;&lt;p&gt;Instalamos PIP desde los repositorios EPEL&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ yum -y install python-pip --enablerepo epel&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Instalamos virtualenvwrapper desde PIP, este instalara como dependencia a virtualenv.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pip install virtualenvwrapper&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Creamos nuestras variables de sistema para virtualenv y lo alojamos en el archivo de configuración bash del usuario unix.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Montar particiones NTFS automáticamente en Linux</title>
      <link>https://armanroot.com/posts/2011/montar-particiones-ntfs-autom%C3%A1ticamente-en-linux/</link>
      <pubDate>Fri, 25 Mar 2011 10:00:00 -0500</pubDate>
      <guid>https://armanroot.com/posts/2011/montar-particiones-ntfs-autom%C3%A1ticamente-en-linux/</guid>
      <description>&lt;p&gt;Esta manera es la manual pero la segura para montar automáticamente las particiones que estén en formato NTFS. Lo primero que haremos es buscar nuestra partición NTFS y encontrar la información que nos servirá.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sudo blkid&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/sda1: UUID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;926c754a-0678-414f-9820-7fcb6a62239c&amp;#34;&lt;/span&gt; TYPE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ext4&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/sda2: UUID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;d55e3ab6-46fd-45f4-9755-e5b47a33c45a&amp;#34;&lt;/span&gt; TYPE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;swap&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/sda3: LABEL&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Documentos&amp;#34;&lt;/span&gt; UUID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;7C121D59121D19AA&amp;#34;&lt;/span&gt; TYPE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ntfs&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dos datos nos interesa en esta información que nos arroja, la primera es el &lt;code&gt;LABEL&lt;/code&gt; que es el nombre o etiqueta de la partición y la otra es el &lt;code&gt;UUID&lt;/code&gt; que es el identificador único de las partición para el sistema.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
