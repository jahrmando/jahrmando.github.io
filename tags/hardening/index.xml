<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Hardening on Blog de Armando</title>
    <link>https://armanroot.com/tags/hardening/</link>
    <description>Recent content in Hardening on Blog de Armando</description>
    <generator>Hugo</generator>
    <language>es-mx</language>
    <copyright>© Armando Uch | Copyright All Rights Reserved</copyright>
    <lastBuildDate>Thu, 04 Dec 2014 10:54:38 -0500</lastBuildDate>
    <atom:link href="https://armanroot.com/tags/hardening/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Cambiar cifrado de contraseñas en CentOS</title>
      <link>https://armanroot.com/posts/2014/cambiar-cifrado-de-contrase%C3%B1as-en-centos/</link>
      <pubDate>Thu, 04 Dec 2014 10:54:38 -0500</pubDate>
      <guid>https://armanroot.com/posts/2014/cambiar-cifrado-de-contrase%C3%B1as-en-centos/</guid>
      <description>&lt;p&gt;Podemos cambiar el algoritmo de cifrado que va usar el &lt;strong&gt;PAM&lt;/strong&gt; en el archivo &lt;code&gt;/etc/passwd&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ vim /etc/sysconfig/authconfig&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PASSWDALGORITHM&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;value&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# The password algorithm. The value can be bigcrypt, descrypt, md5, sha256, or sha512. For example:&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PASSWDALGORITHM&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;sha512&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Happy hacking..&lt;/p&gt;</description>
    </item>
    <item>
      <title>Post-instalacion de CentOS 7 (minimal)</title>
      <link>https://armanroot.com/posts/2014/post-instalacion-de-centos-7-minimal/</link>
      <pubDate>Fri, 25 Apr 2014 16:00:00 -0500</pubDate>
      <guid>https://armanroot.com/posts/2014/post-instalacion-de-centos-7-minimal/</guid>
      <description>&lt;p&gt;Es importante primero realizar una actualizacion de todos los paquetes que vienen en el disco de instalacion.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ yum update -y&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ reboot&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Instalacion de repositorios extras&lt;/p&gt;&#xA;&lt;p&gt;Los repositorios oficiales o bases del sistema no siempre traen servicios o utilidades que podamos necesitar, por ello es necerario agregar algunos repositorios extras (de los ya muy conocidos)&lt;/p&gt;&#xA;&lt;p&gt;Antes instalamos utilidades que nos serviran para las siguientes tareas.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ yum install wget vim&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Repositorio RPMforge&lt;/p&gt;</description>
    </item>
    <item>
      <title>Bloquear intentos de sesión fallidas en CentOS</title>
      <link>https://armanroot.com/posts/2013/bloquear-intentos-de-sesi%C3%B3n-fallidas-en-centos/</link>
      <pubDate>Fri, 13 Sep 2013 10:54:38 -0500</pubDate>
      <guid>https://armanroot.com/posts/2013/bloquear-intentos-de-sesi%C3%B3n-fallidas-en-centos/</guid>
      <description>&lt;p&gt;Bloquear usuarios tras intentos de sesión fallidas CentOS 6.&lt;/p&gt;&#xA;&lt;p&gt;Parámetros de configuración:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;deny&lt;/code&gt;. Numero de intentos&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;even_deny_root&lt;/code&gt;. Bloquear también a root&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;unlock_time&lt;/code&gt;. Tiempo de bloqueo, esta en segundos&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;root_unlock_time&lt;/code&gt;. Tiempo de bloqueo de root, esta en segundos&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Agregamos las siguientes lineas de configuración en el archivo &lt;code&gt;/etc/pam.d/password-auth&lt;/code&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth        required      pam_tally2.so  file&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/var/log/tallylog deny&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; even_deny_root unlock_time&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3600&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;account     required      pam_tally2.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;El archivo de configuración quedaría como el siguiente ejemplo:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ vim /etc/pam.d/password-auth&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#%PAM-1.0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# This file is auto-generated.&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# User changes will be destroyed the next time authconfig is run.&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth        required      pam_tally2.so  file&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/var/log/tallylog deny&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; even_deny_root unlock_time&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;120&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth        required      pam_env.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth        sufficient    pam_unix.so nullok try_first_pass&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth        requisite     pam_succeed_if.so uid &amp;amp;gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt; quiet&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth        required      pam_deny.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;account     required      pam_unix.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;account     sufficient    pam_localuser.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;account     sufficient    pam_succeed_if.so uid &amp;amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt; quiet&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;account     required      pam_permit.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;account     required      pam_tally2.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;password    requisite     pam_cracklib.so try_first_pass retry&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;password    required      pam_deny.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;session     optional      pam_keyinit.so revoke&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;session     required      pam_limits.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;session     &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;success&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; default&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ignore&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; pam_succeed_if.so service in crond quiet use_uid&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;session     required      pam_unix.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Con el comando &lt;code&gt;pam_tally2&lt;/code&gt; podemos ver el contador de intentos de sesión fallidas por el usuario&lt;/p&gt;</description>
    </item>
    <item>
      <title>Limitar acceso al commando SU en CentOS</title>
      <link>https://armanroot.com/posts/2012/limitar-acceso-al-commando-su-en-centos/</link>
      <pubDate>Thu, 11 Oct 2012 10:54:38 -0500</pubDate>
      <guid>https://armanroot.com/posts/2012/limitar-acceso-al-commando-su-en-centos/</guid>
      <description>&lt;p&gt;Como restringir a usuarios el escalar a usuario root por medio del comando su y especificar que usuarios si pueden acceder pero perteneciendo al grupo de sistema wheel.&lt;/p&gt;&#xA;&lt;p&gt;Quitamos el simbolo de comentario de la linea &lt;code&gt;auth required pam_wheel.so use_uid&lt;/code&gt;:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ vim /etc/pam.d/su&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#%PAM-1.0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth sufficient pam_rootok.so&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Uncomment the following line to require a user to be in the “wheel” group.&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth required pam_wheel.so use_uid&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Agregar a usuarios a grupo wheel para tener acceso a su&lt;/p&gt;</description>
    </item>
    <item>
      <title>Asignación de permisos en linux</title>
      <link>https://armanroot.com/posts/2012/asignaci%C3%B3n-de-permisos-en-linux/</link>
      <pubDate>Sun, 08 Apr 2012 10:54:38 -0500</pubDate>
      <guid>https://armanroot.com/posts/2012/asignaci%C3%B3n-de-permisos-en-linux/</guid>
      <description>&lt;p&gt;Los permisos se dividen en tres niveles para los directorios o archivos en linux que son:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Propietario - Grupo - Otros&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;A cada nivel de permiso se le tiene asignado un valor numérico.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Lectura (r) = 4&lt;/li&gt;&#xA;&lt;li&gt;Escritura (w) = 2&lt;/li&gt;&#xA;&lt;li&gt;Ejecución (x) = 1&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Ahora bien para asignar permisos se usa el comando chmod, solo tenemos realmente que sumar los valores de los permisos que queremos darle a cada nivel:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
